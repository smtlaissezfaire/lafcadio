$: << 'lib'
require 'lafcadio'

@@versionStr = Lafcadio::Version

def releaseTag
	( uber, major, minor ) = @@versionStr.split( '.' ).collect! { |str| str.to_i }
	"rel-#{ uber }-#{ major }-#{ minor }"
end

def releaseDirName
	"lafcadio-#{ @@versionStr }"
end

task :exportReleaseDir do
	Dir.chdir('../releases')
	ext = "-d:ext:francis@rubyforge.org:/var/cvs/lafcadio"
	`cvs #{ ext } export -r #{ releaseTag } -d #{ releaseDirName } lafcadio`
end

task :updateDocs do
	Dir.chdir( 'lib' )
	`rdoc --op ../../lafcadio.rubyforge.org/doc/ --main lafcadio.rb`
	Dir.chdir( '..' )
	`cp -r ../lafcadio.rubyforge.org/ ./docs`
end